
% version (use Makefile to regenerate from git)
\def\frogspecversion{\input{tmp/version}}

% author block customization
\renewcommand{\Affilfont}{\it\small}
\setlength{\affilsep}{1ex}

% numberless section
\def\chapwithtoc#1{
\chapter*{#1}
\addcontentsline{toc}{chapter}{#1}
}

% section customization
\def\chaptername{Part}
\makeatletter
\renewcommand{\float@listhead}[1]{\chapwithtoc{#1}}
\makeatother

% make typesetting ugly only in really bad cases
\overfullrule=3mm
\emergencystretch=1em

% code listing environment
\DeclareNewFloatType{listing}{}
\floatsetup[listing]{style=ruled}
\floatname{listing}{Listing}
\numberwithin{listing}{chapter}

% setup captions
\DeclareCaptionStyle{spec}{style=base,font={small,sf},labelfont=bf,labelsep=quad}
\captionsetup{style=spec}
\captionsetup[listing]{style=spec,singlelinecheck=off}

% code formatting
\lstdefinelanguage{tsv}{
  showtabs=true,
  tabsize=20,
  tab={\color{black!15}$\to\hskip -1pt\shortmid$},
  keywords={optimal,infeasible},
  basicstyle=\tiny\ttfamily\color{black},
  identifierstyle=\color{black!66},
  commentstyle=\color{green!50!black},
  stringstyle=\color{red!50!black},
  keywordstyle=\color{blue!75!black}
}

\lstdefinelanguage{json}{
  breaklines=true,
  string=[s]{"}{"},
  morestring=[s]{'}{'},
  keywords={\{,\},[,]},
  showstringspaces=true,
  basicstyle=\tiny\ttfamily\color{black!75},
  identifierstyle=\bfseries\color{yellow},
  commentstyle=\color{green!50!black},
  stringstyle=\color{red!50!black},
  keywordstyle=\color{blue!75!black},
}

% TO-DO lists
\renewcommand{\todoformat}{\itshape\color{red}}
\let\oldtodo=\todo
\renewcommand{\todo}[1]{\oldtodo[#1]{}}
